# 项目需求规格说明书 (SRS) - v2.0 (GUI 版)
## 项目概况
**项目名称**：NetChat-GUI (基于 C++ 的高性能可视化文件传输聊天系统)

**开发环境**：macOS (M4 Chip), C++17, CMake, POSIX Socket

**GUI 框架建议**：Dear ImGui (轻量、适合代码控制) 或 Qt (如果你已有经验)

## 系统架构图 (逻辑视图)
为了实现 GUI 不卡顿，客户端必须分离UI 渲染和网络通信。

**Server**：传统的 Reactor 或 Thread-per-Client 模型（纯后台运行，打印日志）。

**Client**：

UI 主线程: 负责绘制界面 (60 FPS)，响应鼠标点击。

网络子线程: 负责阻塞式收发 Socket 数据。

线程安全队列 (TSQ): 连接 UI 和网络的桥梁。

## 功能需求 (Functional Requirements)
### 3.1 登录界面 (Login Panel)
提供输入框：服务器 IP、端口号、用户名。

**提供“连接”按钮**：点击后发起 Connect，连接成功自动跳转至聊天界面；失败则弹出错误提示。

**状态指示**：界面右下角显示当前连接状态（Connected/Disconnected，绿灯/红灯）。

### 3.2 聊天主界面 (Main Chat Window)
布局划分：

**左侧/右侧边栏**：在线用户列表 (Online Users)，实时刷新。

**中央区域**：消息显示区。支持“气泡式”显示（我发的消息在右，别人的在左）或“日志式”显示（包含时间戳）。

**底部区域**：输入框 + 发送按钮。

**交互**：支持回车键发送消息。

### 3.3 文件传输可视化 (Visual File Transfer)
发送方：

**点击“选择文件”按钮**，弹出系统原生文件选择器（或输入路径）。

**进度条**：显示文件发送进度 (0% -> 100%)。

接收方：

**聊天窗口显示“收到文件请求：xxx.jpg”。**

**自动接收或点击“下载”后接收。**

**进度条**：实时显示接收进度。